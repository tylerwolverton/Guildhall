StateMachine
{
    State Waiting
    {
        OnEvent( PlayerInteract )
        {
            ChangeState( Intro );
        }
    }

    State Intro
    {
        OnEnter()
        {
            FireEvent( StartDialogue() );
            FireEvent( AddLineOfDialogueText( text = "Hello, I hope this really really" ) );
            FireEvent( AddLineOfDialogueText( text = "long line of text makes it into the text box alright." ) );
            
            FireEvent( AddDialogueChoice( name = "choice1", text = "Choice!" ) );
            FireEvent( AddDialogueChoice( name = "choice2", text = "Another Choice!" ) );
        }

        String choiceName;
        OnEvent( PlayerInteract )
        {
            if( choiceName == "choice1" )
            {
                ChangeState( Choice1 );
            }

            if( choiceName == "choice2" )
            {
                ChangeState( Choice2 );
            }

            FireEvent( EndDialogue() );
            ChangeState( Waiting );
        }
    }

    State Choice1
    {
        OnEnter()
        {
            FireEvent( AddLineOfDialogueText( text = "Ah, choice 1 it is." ) );
        }

        OnEvent( PlayerInteract )
        {
            FireEvent( EndDialogue() );

            ChangeState( Waiting );
        }
    }

    State Choice2
    {
        OnEnter()
        {
            FireEvent( AddLineOfDialogueText( text = "Choice 2, eh?" ) );
        }

        OnEvent( PlayerInteract )
        {
            FireEvent( EndDialogue() );

            ChangeState( Waiting );
        }
    }
}